{% extends 'umbrella/base.html' %}
{% load static %}
{% block content %}

<div class="container-fluid">
    <div class="row">
        <div class="col-md-9" style="padding: 0">
            <style>
                html, body {
                  height: 100%;
                  margin: 0;
                  padding: 0;
                }
                #map {
                  height: 100%;
                }
              </style>
              <div id="map"></div>
              <script>
              // Note: This example requires that you consent to location sharing when
              // prompted by your browser. If you see the error "The Geolocation service
              // failed.", it means you probably did not give permission for the browser to
              // locate you.

              function initMap() {
                var map = new google.maps.Map(document.getElementById('map'), {
                  center: {lat: -33.8886, lng: 151.1873},
                  zoom: 4
                });
                var infoWindow = new google.maps.InfoWindow({map: map});
                // Try HTML5 geolocation.
                if (navigator.geolocation) {
                  navigator.geolocation.getCurrentPosition(function(position) {
                    var pos = {
                      lat: position.coords.latitude,
                      lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
                    infoWindow.setContent('Location found.');
                    map.setCenter(pos);
                  }, function() {
                    handleLocationError(true, infoWindow, map.getCenter());
                  });
                } else {
                  // Browser doesn't support Geolocation
                  handleLocationError(false, infoWindow, map.getCenter());
                };
                var image = "{% static 'images/favicon.ico' %}";
                var Marker = new google.maps.Marker({
                  position: {lat: -33.890, lng: 151.274},
                  map: map,
                  icon: image
                });
                  map.zoom=13;
              }

              {##}
              {#// Data for the markers consisting of a name, a LatLng and a zIndex for the#}
              {#// order in which these markers should display on top of each other.#}
              {#var beaches = [#}
              {#  ['Bondi Beach', -33.890542, 151.274856, 4],#}
              {#  ['Coogee Beach', -33.923036, 151.259052, 5],#}
              {#  ['Cronulla Beach', -34.028249, 151.157507, 3],#}
              {#  ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],#}
              {#  ['Maroubra Beach', -33.950198, 151.259302, 1]#}
              {#];#}
              {##}
              {#function setMarkers(map) {#}
              {#  // Adds markers to the map.#}
              {##}
              {#  // Marker sizes are expressed as a Size of X,Y where the origin of the image#}
              {#  // (0,0) is located in the top left of the image.#}
              {##}
              {#  // Origins, anchor positions and coordinates of the marker increase in the X#}
              {#  // direction to the right and in the Y direction down.#}
              {#  var image = {#}
              {#    url: 'images/black-umbrella.png',#}
              {#    // This marker is 20 pixels wide by 32 pixels high.#}
              {#    size: new google.maps.Size(20, 32),#}
              {#    // The origin for this image is (0, 0).#}
              {#    origin: new google.maps.Point(0, 0),#}
              {#    // The anchor for this image is the base of the flagpole at (0, 32).#}
              {#    anchor: new google.maps.Point(0, 32)#}
              {#  };#}
              {#  // Shapes define the clickable region of the icon. The type defines an HTML#}
              {#  // <area> element 'poly' which traces out a polygon as a series of X,Y points.#}
              {#  // The final coordinate closes the poly by connecting to the first coordinate.#}
              {#  var shape = {#}
              {#    coords: [1, 1, 1, 20, 18, 20, 18, 1],#}
              {#    type: 'poly'#}
              {#  };#}
              {#  for (var i = 0; i < beaches.length; i++) {#}
              {#    var beach = beaches[i];#}
              {#    var marker = new google.maps.Marker({#}
              {#      position: {lat: beach[1], lng: beach[2]},#}
              {#      map: map,#}
              {#      icon: image,#}
              {#      shape: shape,#}
              {#      title: beach[0],#}
              {#      zIndex: beach[3]#}
              {#    });#}
              {#  }#}
              {##}



              function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                infoWindow.setPosition(pos);
                infoWindow.setContent(browserHasGeolocation ?
                                      'Error: The Geolocation service failed.' :
                                      'Error: Your browser doesn\'t support geolocation.');
              }

              </script>
              <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBgPN0ssQZLlxZn8dFofDfWR-_hzxFAXVk&signed_in=true&callback=initMap"
                  async defer>
              </script>
        </div>
        <div class="col-md-3">
            <h1>Example Sidebar</h1>
            <p>This sidebar is currently static for simplicity. A cool bonus (wishlist) could be to have a sliding sidebar :)</p>
            <p>This sidebar will most likely be where we post &amp; update the messages.</p>
        </div>
    </div>
</div>

{% endblock %}