{% load static %}
{% block content %}
    <div id="viewProfile" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="viewProfileLabel"
         xmlns="http://www.w3.org/1999/html">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <!-- custom styles for this template -->
                <div class="modal-body">
                    {% if user.is_authenticated %}
                        <div class="row">
                            <div class="col-md-6">
                                <img src="{% static 'images/profile-img.png' %}" alt="" class="img-rounded img-responsive" />
                            </div>
                            <div class="col-md-6">
                                <h2 id="change_username">{{ user.username }}</h2>
                                <br>
                                <h4 id="change_email"><span class="glyphicon glyphicon-envelope"></span> {{ user.email }}</h4>
                                <br>
                                <br>
                                <br>
                                <br>
                                <br>
                                <br>
                                <div class="col-md-offset-8">
{#                                    <button id="changebutton">Try it</button>#}
                                    <a href="#" id="changebutton"><span class="glyphicon glyphicon-pencil"></span>Editing</a>
{#                                    <a href="#" data-toggle="modal" data-target="#updateUserProfile"><span class="glyphicon glyphicon-pencil"></span>Editing</a>#}
                                </div>
                            </div>
                        </div>
                        <!-- is the else logic below really needed? the case never seems to be that the user can  -->
                        <!-- access the page without being logged in-->
                        <!-- Need!! if someone typing localhost:8000/register in the url, it can reach there -->
                    {% else %}
                        <h1>error: you are not logged in</h1>
                        <h2>please log in before viewing dashboard</h2>
                    {% endif %}
                </div>
            </div>
        </div>
    </div> <!-- /container -->
    </div>
    </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#changebutton').click(function(){
                $('#change_username').replaceWith('<br><div class="input-group input-group-lg"><input type="email" name="user_email" style="font-size: 25px;font-weight: bold;" id="user_email" value="{{ user.username}}" class="form-control input-group-lg"><span class="input-group-addon"><span class="glyphicon glyphicon-edit"></span></span></div> ');
                $('#change_email').replaceWith('<br><div class="input-group input-group-lg"><input type="email" name="user_email" style="font-size: 18px;font-weight: bold;" id="user_email" value="{{ user.email }}" class="form-control input-group-lg"><span class="input-group-addon"><span class="glyphicon glyphicon-edit"></span></span></div> ');
            });
        });
    </script>
    {% include 'umbrella/updateUserProfile.html' %}
{% endblock %}
